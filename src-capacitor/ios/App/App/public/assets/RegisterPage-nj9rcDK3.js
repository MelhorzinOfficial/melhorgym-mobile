import{d as q,u as _,l as N,m as g,n as x,p as l,q as c,t as r,f as n,Q as P,v as S,z as w,A as b,r as v,c as R,B}from"./index-uMrKI2FR.js";import{Q}from"./QSpinnerDots-D-CS-paM.js";import{u as T}from"./focus-manager-BhP9zZFT.js";import{u as z}from"./useToast-8Crnojsv.js";import{A as f}from"./AppInput-CMytOBdi.js";import{A as U}from"./AppButton-DyYNti-d.js";import"./AppInput.vue_vue_type_style_index_0_scoped_a07b1db5_lang-3rFo9l-2.js";const j={class:"flex-1 flex flex-col justify-center px-6 py-12 max-w-md mx-auto w-full"},D={class:"text-center mb-10"},F={key:0,class:"text-center py-8"},M={key:1,class:"space-y-6"},L=q({__name:"RegisterPage",setup(I){const u=T(),V=_(),y=z(),p=v(""),d=v(""),t=v(""),m=v(""),o=v(!1),s=v({name:"",email:"",password:"",confirmPassword:""}),h=R(()=>p.value.trim()!==""&&d.value.trim()!==""&&t.value!==""&&m.value!==""&&t.value===m.value&&t.value.length>=6);function E(){let e=!0;return s.value={name:"",email:"",password:"",confirmPassword:""},p.value.trim()||(s.value.name="Nome é obrigatório",e=!1),d.value.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.value)||(s.value.email="Email inválido",e=!1):(s.value.email="Email é obrigatório",e=!1),t.value?t.value.length<6&&(s.value.password="Senha deve ter pelo menos 6 caracteres",e=!1):(s.value.password="Senha é obrigatória",e=!1),m.value?t.value!==m.value&&(s.value.confirmPassword="As senhas não coincidem",e=!1):(s.value.confirmPassword="Confirme sua senha",e=!1),e}function k(e){if(e.response?.data?.message)return e.response.data.message;if(e.response?.status)switch(e.response.status){case 400:return"Dados inválidos. Verifique as informações e tente novamente.";case 409:return"Este email já está cadastrado.";case 422:return"Dados inválidos. Verifique os campos e tente novamente.";case 429:return"Muitas tentativas. Aguarde alguns minutos e tente novamente.";case 500:return"Erro no servidor. Tente novamente em alguns instantes."}return e.message==="Network Error"||e.code==="ERR_NETWORK"?"Erro de conexão. Verifique sua internet e tente novamente.":"Erro inesperado. Tente novamente ou entre em contato com o suporte."}async function A(){if(E())try{o.value=!0,await B.post("/register",{name:p.value.trim(),email:d.value.trim(),password:t.value}),y.success("Conta criada com sucesso! Faça login para continuar."),await V.push("/login")}catch(e){console.error("Erro ao criar conta:",e),y.error(k(e))}finally{o.value=!1}}return(e,a)=>{const C=N("router-link");return g(),x("div",{class:c([[r(u).dark.isActive?"bg-gray-900":"bg-white"],"min-h-screen flex flex-col"])},[l("div",j,[l("div",D,[l("div",{class:c([[r(u).dark.isActive?"bg-primary/20":"bg-orange-100"],"h-24 w-24 mx-auto mb-6 rounded-full flex items-center justify-center"])},[n(P,{name:"person_add",size:"48px",color:"primary"})],2),l("h1",{class:c([[r(u).dark.isActive?"text-white":"text-gray-900"],"text-4xl font-bold mb-3"])}," Criar Conta ",2),l("p",{class:c([[r(u).dark.isActive?"text-gray-400":"text-gray-600"],"text-lg"])}," Cadastre-se para começar a treinar ",2)]),o.value?(g(),x("div",F,[n(Q,{size:"48px",color:"primary"}),l("p",{class:c([[r(u).dark.isActive?"text-gray-400":"text-gray-600"],"mt-4"])}," Criando conta... ",2)])):(g(),x("div",M,[l("form",{onSubmit:S(A,["prevent"]),class:"space-y-5"},[n(r(f),{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=i=>p.value=i),type:"text",label:"Nome",placeholder:"Seu nome completo",required:"",disabled:o.value,error:s.value.name},null,8,["modelValue","disabled","error"]),n(r(f),{modelValue:d.value,"onUpdate:modelValue":a[1]||(a[1]=i=>d.value=i),type:"email",label:"Email",placeholder:"seu@email.com",required:"",disabled:o.value,error:s.value.email},null,8,["modelValue","disabled","error"]),n(r(f),{modelValue:t.value,"onUpdate:modelValue":a[2]||(a[2]=i=>t.value=i),type:"password",label:"Senha",placeholder:"••••••••",required:"",disabled:o.value,error:s.value.password},null,8,["modelValue","disabled","error"]),n(r(f),{modelValue:m.value,"onUpdate:modelValue":a[3]||(a[3]=i=>m.value=i),type:"password",label:"Confirmar Senha",placeholder:"••••••••",required:"",disabled:o.value,error:s.value.confirmPassword},null,8,["modelValue","disabled","error"]),n(r(U),{type:"submit",disabled:o.value||!h.value,loading:o.value,"full-width":""},{default:w(()=>[...a[4]||(a[4]=[b(" Criar Conta ",-1)])]),_:1},8,["disabled","loading"])],32),l("div",{class:c([[r(u).dark.isActive?"text-gray-400":"text-gray-600"],"text-center text-sm"])},[a[6]||(a[6]=b(" Já tem uma conta? ",-1)),n(C,{to:"/login",class:"text-primary hover:text-orange-600 font-semibold"},{default:w(()=>[...a[5]||(a[5]=[b(" Entrar ",-1)])]),_:1})],2)]))])],2)}}});export{L as default};
