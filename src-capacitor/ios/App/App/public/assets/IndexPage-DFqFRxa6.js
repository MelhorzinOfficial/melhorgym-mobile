import{Q as L}from"./QSpinnerDots-D-CS-paM.js";import{H as O,a2 as R,g as G,h as E,S as H,c as o,a3 as U,d as I,m as i,n as x,q as n,p as t,V as w,Q as b,G as T,E as v,a4 as X,t as r,z as A,f as g,A as B,F as j,$ as M,u as J,o as K,r as W}from"./index-uMrKI2FR.js";import{a as Y,b as Z,u as Q}from"./focus-manager-BhP9zZFT.js";import"./Footer.vue_vue_type_style_index_0_scoped_c4bb15e8_lang-Ba9xHn6I.js";import{u as ee}from"./useAuth-DluwJSbR.js";import{A as te,u as se,_ as re}from"./useWorkout-RHAbPYxC.js";import{A as D}from"./AppButton-DyYNti-d.js";import"./AppInput.vue_vue_type_style_index_0_scoped_a07b1db5_lang-3rFo9l-2.js";import{A as ae}from"./AppSelect-Bv_uEm9K.js";const oe={xs:2,sm:4,md:6,lg:10,xl:14};function F(e,s,c){return{transform:s===!0?`translateX(${c.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const ne=O({name:"QLinearProgress",props:{...Y,...R,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:s}){const{proxy:c}=G(),h=Z(e,c.$q),_=U(e,oe),y=o(()=>e.indeterminate===!0||e.query===!0),S=o(()=>e.reverse!==e.query),k=o(()=>({..._.value!==null?_.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),f=o(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),a=o(()=>F(e.buffer!==void 0?e.buffer:1,S.value,c.$q)),u=o(()=>`with${e.instantFeedback===!0?"out":""}-transition`),l=o(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${u.value} q-linear-progress__track--${h.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),p=o(()=>F(y.value===!0?1:e.value,S.value,c.$q)),P=o(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${u.value} q-linear-progress__model--${y.value===!0?"in":""}determinate`),q=o(()=>({width:`${e.value*100}%`})),d=o(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${u.value}`);return()=>{const m=[E("div",{class:l.value,style:a.value}),E("div",{class:P.value,style:p.value})];return e.stripe===!0&&y.value===!1&&m.push(E("div",{class:d.value,style:q.value})),E("div",{class:f.value,style:k.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},H(s.default,m))}}}),ie={class:"flex-1 min-w-0"},le={class:"text-sm text-gray-500 dark:text-gray-400"},ce=I({__name:"ExerciseCheckbox",props:{name:{},sets:{},reps:{},completed:{type:Boolean}},emits:["toggle"],setup(e){return(s,c)=>(i(),x("div",{class:n(["flex items-center gap-3 py-3 px-2 rounded-lg cursor-pointer transition-all",e.completed?"bg-green-50 dark:bg-green-900/20":"hover:bg-gray-50 dark:hover:bg-gray-700/50"]),onClick:c[0]||(c[0]=h=>s.$emit("toggle"))},[t("div",{class:n(["flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all",e.completed?"bg-green-500 border-green-500":"border-gray-300 dark:border-gray-600"])},[e.completed?(i(),w(b,{key:0,name:"check",size:"16px",color:"white"})):T("",!0)],2),t("div",ie,[t("p",{class:n(["font-medium",e.completed?"text-green-700 dark:text-green-400 line-through":""])},v(e.name),3),t("p",le,v(e.sets)+" sÃ©ries Ã— "+v(e.reps)+" reps",1)]),e.completed?(i(),w(b,{key:0,name:"check_circle",size:"24px",color:"positive"})):T("",!0)],2))}}),V=()=>{const e=X(),s=a=>{e.setActivePlan(a)},c=(a,u)=>{const l=u.exercises.map(p=>({id:p.id,name:p.name,sets:p.sets,reps:p.reps}));return e.startSession(a.id,a.name,u.id,u.dayName,l)},h=(a,u)=>e.isSessionForDay(a,u),_=a=>{e.toggleExercise(a)},y=()=>{e.finishSession()},S=()=>{e.cancelSession()},k=a=>e.currentSession?e.currentSession.exercises.find(l=>l.exerciseId===a)?.completed??!1:!1,f=o(()=>({sessionsThisMonth:e.sessionsThisMonth.length,currentStreak:e.currentStreak,totalExercises:e.totalExercisesCompleted}));return{activePlanId:o(()=>e.activePlanId),currentSession:o(()=>e.currentSession),sessionProgress:o(()=>e.currentSessionProgress),hasActiveSession:o(()=>e.hasActiveSession),selectPlan:s,startDaySession:c,isDayInProgress:h,toggleExercise:_,finishSession:y,cancelSession:S,isExerciseCompleted:k,getCompletedDaysForPlan:e.getCompletedDaysForPlan,stats:f}},de={class:"space-y-2"},ue={key:0,class:"text-center py-4"},me={class:"text-gray-500 dark:text-gray-400 mb-4"},ge={key:1},ve={class:"mb-4"},xe={class:"flex justify-between text-sm mb-1"},ye={class:"font-medium"},pe={class:"space-y-1 divide-y divide-gray-100 dark:divide-gray-700"},he={class:"flex gap-3 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},ke=I({__name:"WorkoutDayAccordion",props:{plan:{},day:{}},setup(e){const s=e,{currentSession:c,sessionProgress:h,startDaySession:_,toggleExercise:y,finishSession:S,cancelSession:k,isDayInProgress:f}=V(),a=o(()=>f(s.plan.id,s.day.id)),u=o(()=>!c.value||!a.value?[]:c.value.exercises),l=o(()=>a.value?h.value:{completed:0,total:s.day.exercises.length,percentage:0}),p=o(()=>a.value?`${l.value.completed}/${l.value.total}`:`${s.day.exercises.length} exercÃ­cios`),P=o(()=>!1),q=()=>{_(s.plan,s.day)},d=N=>{y(N)},m=()=>{S()},z=()=>{k()};return(N,$)=>(i(),w(r(te),{title:e.day.dayName,badge:p.value,"default-expanded":!!a.value},{actions:A(()=>[a.value?(i(),w(b,{key:0,name:"pending",color:"warning",size:"20px"})):P.value?(i(),w(b,{key:1,name:"check_circle",color:"positive",size:"20px"})):T("",!0)]),default:A(()=>[t("div",de,[a.value?(i(),x("div",ge,[t("div",ve,[t("div",xe,[$[1]||($[1]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Progresso",-1)),t("span",ye,v(l.value.completed)+"/"+v(l.value.total),1)]),g(ne,{value:l.value.percentage/100,color:"primary","track-color":"grey-3",rounded:"",size:"8px"},null,8,["value"])]),t("div",pe,[(i(!0),x(j,null,M(u.value,C=>(i(),w(ce,{key:C.exerciseId,name:C.name,sets:C.sets,reps:C.reps,completed:C.completed,onToggle:Ee=>d(C.exerciseId)},null,8,["name","sets","reps","completed","onToggle"]))),128))]),t("div",he,[g(r(D),{variant:"outline",size:"sm",onClick:z},{default:A(()=>[...$[2]||($[2]=[B(" Cancelar ",-1)])]),_:1}),g(r(D),{variant:"primary",size:"sm",disabled:l.value.completed===0,onClick:m},{default:A(()=>[...$[3]||($[3]=[B(" Finalizar Treino ",-1)])]),_:1},8,["disabled"])])])):(i(),x("div",ue,[t("p",me,v(e.day.exercises.length)+" exercÃ­cios neste dia ",1),g(r(D),{variant:"primary",onClick:q},{default:A(()=>[...$[0]||($[0]=[B(" Iniciar Treino ",-1)])]),_:1})]))])]),_:1},8,["title","badge","default-expanded"]))}}),fe={class:"grid grid-cols-3 gap-4"},be=I({__name:"WorkoutStats",props:{sessionsThisMonth:{},currentStreak:{},totalExercises:{}},setup(e){const s=Q();return(c,h)=>(i(),x("div",fe,[t("div",{class:n([[r(s).dark.isActive?"bg-gray-800":"bg-white"],"rounded-xl p-4 text-center shadow-sm"])},[t("div",{class:n([[r(s).dark.isActive?"bg-primary/20":"bg-orange-100"],"w-12 h-12 mx-auto mb-2 rounded-full flex items-center justify-center"])},[g(b,{name:"fitness_center",size:"24px",color:"primary"})],2),t("p",{class:n([[r(s).dark.isActive?"text-white":"text-gray-900"],"text-2xl font-bold"])},v(e.sessionsThisMonth),3),t("p",{class:n([[r(s).dark.isActive?"text-gray-400":"text-gray-500"],"text-sm"])}," treinos este mÃªs ",2)],2),t("div",{class:n([[r(s).dark.isActive?"bg-gray-800":"bg-white"],"rounded-xl p-4 text-center shadow-sm"])},[t("div",{class:n([[r(s).dark.isActive?"bg-orange-900/30":"bg-orange-100"],"w-12 h-12 mx-auto mb-2 rounded-full flex items-center justify-center"])},[g(b,{name:"local_fire_department",size:"24px",color:"orange"})],2),t("p",{class:n([[r(s).dark.isActive?"text-white":"text-gray-900"],"text-2xl font-bold"])},v(e.currentStreak),3),t("p",{class:n([[r(s).dark.isActive?"text-gray-400":"text-gray-500"],"text-sm"])}," dias seguidos ",2)],2),t("div",{class:n([[r(s).dark.isActive?"bg-gray-800":"bg-white"],"rounded-xl p-4 text-center shadow-sm"])},[t("div",{class:n([[r(s).dark.isActive?"bg-green-900/30":"bg-green-100"],"w-12 h-12 mx-auto mb-2 rounded-full flex items-center justify-center"])},[g(b,{name:"check_circle",size:"24px",color:"positive"})],2),t("p",{class:n([[r(s).dark.isActive?"text-white":"text-gray-900"],"text-2xl font-bold"])},v(e.totalExercises),3),t("p",{class:n([[r(s).dark.isActive?"text-gray-400":"text-gray-500"],"text-sm"])}," exercÃ­cios feitos ",2)],2)]))}}),_e={class:"max-w-3xl mx-auto"},Se={class:"mb-6"},$e={class:"text-2xl font-bold text-gray-900 dark:text-white mb-1"},we={key:0,class:"mb-6"},Ae={key:1,class:"text-center py-12"},Ce={key:3,class:"space-y-3"},Pe={class:"flex items-center justify-between mb-2"},qe={class:"text-lg font-semibold text-gray-900 dark:text-white"},ze={class:"text-sm text-gray-500 dark:text-gray-400"},Qe=I({__name:"IndexPage",setup(e){const s=Q(),c=J(),{userName:h}=ee(),{fetchWorkouts:_}=se(),{activePlanId:y,selectPlan:S,stats:k}=V(),f=W(!1),a=W([]),u=o(()=>a.value.map(d=>({label:`${d.name} (${d.dailyWorkouts.length} dias)`,value:d.id}))),l=o(()=>a.value.find(d=>d.id===y.value)??null),p=d=>{S(d?Number(d):null)},P=()=>{c.push("/workouts/create")},q=async()=>{try{f.value=!0,a.value=await _()}catch(d){console.error("Error loading plans:",d)}finally{f.value=!1}};return K(()=>{q()}),(d,m)=>(i(),w(r(re),null,{default:A(()=>[t("div",_e,[t("div",Se,[t("h1",$e," OlÃ¡, "+v(r(h))+"! ðŸ‘‹ ",1),m[0]||(m[0]=t("p",{class:"text-gray-600 dark:text-gray-400"},"Pronto para treinar hoje?",-1))]),g(r(be),{"sessions-this-month":r(k).sessionsThisMonth,"current-streak":r(k).currentStreak,"total-exercises":r(k).totalExercises,class:"mb-6"},null,8,["sessions-this-month","current-streak","total-exercises"]),a.value.length>0?(i(),x("div",we,[m[1]||(m[1]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Selecione um plano de treino ",-1)),g(r(ae),{"model-value":r(y)??"",options:u.value,placeholder:"Escolha seu plano...","onUpdate:modelValue":p},null,8,["model-value","options"])])):T("",!0),f.value?(i(),x("div",Ae,[g(L,{size:"40px",color:"primary"}),m[2]||(m[2]=t("p",{class:"text-gray-500 dark:text-gray-400 mt-2"},"Carregando planos...",-1))])):a.value.length===0?(i(),x("div",{key:2,class:n([[r(s).dark.isActive?"bg-gray-800":"bg-white"],"text-center py-12 rounded-xl"])},[g(b,{name:"fitness_center",size:"48px",color:"grey-5"}),t("h3",{class:n([[r(s).dark.isActive?"text-white":"text-gray-900"],"text-lg font-semibold mt-4"])}," Nenhum plano cadastrado ",2),t("p",{class:n([[r(s).dark.isActive?"text-gray-400":"text-gray-500"],"mt-1 mb-4"])}," Crie seu primeiro plano de treino para comeÃ§ar ",2),g(r(D),{variant:"primary",onClick:P},{default:A(()=>[...m[3]||(m[3]=[B(" Criar Plano ",-1)])]),_:1})],2)):l.value?(i(),x("div",Ce,[t("div",Pe,[t("h2",qe,v(l.value.name),1),t("span",ze,v(l.value.dailyWorkouts.length)+" dias ",1)]),(i(!0),x(j,null,M(l.value.dailyWorkouts,z=>(i(),w(r(ke),{key:z.id,plan:l.value,day:z},null,8,["plan","day"]))),128))])):(i(),x("div",{key:4,class:n([[r(s).dark.isActive?"bg-gray-800":"bg-white"],"text-center py-12 rounded-xl"])},[g(b,{name:"touch_app",size:"48px",color:"grey-5"}),t("h3",{class:n([[r(s).dark.isActive?"text-white":"text-gray-900"],"text-lg font-semibold mt-4"])}," Selecione um plano ",2),t("p",{class:n([[r(s).dark.isActive?"text-gray-400":"text-gray-500"],"mt-1"])}," Escolha um plano acima para ver os dias de treino ",2)],2))])]),_:1}))}});export{Qe as default};
