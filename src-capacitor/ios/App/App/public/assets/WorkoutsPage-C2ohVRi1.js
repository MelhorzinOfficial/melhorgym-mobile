import{d as q,m as a,V as p,q as u,z as o,Y as C,G as N,f as k,p as e,E as n,_ as L,u as F,o as G,t as s,A as v,n as c,F as M,$ as D,v as E,r as y}from"./index-uMrKI2FR.js";import{u as I}from"./focus-manager-BhP9zZFT.js";import"./Footer.vue_vue_type_style_index_0_scoped_c4bb15e8_lang-Ba9xHn6I.js";import{Q as R,a as V,u as Y,A as J,_ as K}from"./useWorkout-RHAbPYxC.js";import{A as $}from"./AppButton-DyYNti-d.js";import"./AppInput.vue_vue_type_style_index_0_scoped_a07b1db5_lang-3rFo9l-2.js";import{u as O}from"./useToast-8Crnojsv.js";const U={class:"flex items-center justify-between"},X={class:"text-lg font-semibold"},Z=q({__name:"AppCard",props:{title:{},variant:{default:"default"},padding:{default:"md"},hoverable:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},headerPadding:{type:Boolean,default:!0},contentPadding:{type:Boolean,default:!0},footerPadding:{type:Boolean,default:!0}},emits:["click"],setup(l,{emit:i}){const x=l,A=i;function B(r){x.clickable&&A("click",r)}return(r,h)=>(a(),p(R,{class:u(["app-card",l.hoverable&&"app-card--hoverable",l.clickable&&"cursor-pointer",`app-card--${l.padding}`]),flat:l.variant==="secondary",bordered:"",onClick:B},{default:o(()=>[r.$slots.header||l.title?(a(),p(V,{key:0,class:"q-pb-none"},{default:o(()=>[C(r.$slots,"header",{},()=>[e("div",U,[e("div",X,n(l.title),1),C(r.$slots,"headerActions",{},void 0,!0)])],!0)]),_:3})):N("",!0),k(V,{class:u(!l.contentPadding&&"q-pa-none")},{default:o(()=>[C(r.$slots,"default",{},void 0,!0)]),_:3},8,["class"]),r.$slots.footer?(a(),p(V,{key:1,class:"q-pt-none"},{default:o(()=>[C(r.$slots,"footer",{},void 0,!0)]),_:3})):N("",!0)]),_:3},8,["class","flat"]))}}),ee=L(Z,[["__scopeId","data-v-95ad1c09"]]),te={class:"max-w-4xl mx-auto"},ae={class:"mb-6 flex items-center justify-between"},se={key:0,class:"text-center py-12"},oe={key:1,class:"space-y-4"},re=["onClick"],le=["onClick"],ne={class:"space-y-3"},ie={class:"flex items-center justify-between w-full"},de={class:"font-semibold"},ce={class:"text-sm text-grey-6"},ue={class:"space-y-2"},fe={class:"flex-shrink-0 w-6 h-6 rounded-full bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400 flex items-center justify-center text-xs font-bold"},me={class:"flex-1 min-w-0"},ve={class:"text-sm font-medium"},pe={class:"flex items-center gap-3 text-xs text-grey-6"},ge={class:"flex gap-3 justify-end"},Ce=q({__name:"WorkoutsPage",setup(l){const i=I(),x=F(),{fetchWorkouts:A,deleteWorkout:B}=Y(),r=O(),h=y([]),j=y(!1),b=y(!1),g=y(!1),w=y({id:0,name:""}),T=async()=>{try{j.value=!0,h.value=await A()}catch(d){console.error("Erro ao carregar treinos:",d),r.error("Erro ao carregar treinos")}finally{j.value=!1}},W=()=>{x.push("/workouts/create")},z=d=>{x.push(`/workouts/${d}/edit`)},H=(d,t)=>{w.value={id:d,name:t},b.value=!0},P=()=>{b.value=!1,w.value={id:0,name:""}},Q=async()=>{try{g.value=!0,await B(w.value.id.toString()),r.success("Treino deletado com sucesso"),b.value=!1,await T()}catch(d){console.error("Erro ao deletar treino:",d),r.error("Erro ao deletar treino")}finally{g.value=!1}};return G(()=>{T()}),(d,t)=>(a(),p(s(K),null,{default:o(()=>[e("div",te,[e("div",ae,[t[1]||(t[1]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-2"},"Meus Treinos"),e("p",{class:"text-gray-600 dark:text-gray-400"},"Gerencie seus planos de treino")],-1)),k(s($),{variant:"primary",onClick:W},{default:o(()=>[...t[0]||(t[0]=[v(" + Novo Treino ",-1)])]),_:1})]),j.value?(a(),c("div",se,[...t[2]||(t[2]=[e("p",{class:"text-gray-500"},"Carregando treinos...",-1)])])):h.value.length>0?(a(),c("div",oe,[(a(!0),c(M,null,D(h.value,f=>(a(),p(s(J),{key:f.id,title:f.name,badge:`${f.dailyWorkouts.length} dias`,"default-expanded":!1},{actions:o(()=>[e("button",{onClick:E(m=>z(f.id),["stop"]),class:"p-2 text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Editar plano"},[...t[3]||(t[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,re),e("button",{onClick:E(m=>H(f.id,f.name),["stop"]),class:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Deletar plano"},[...t[4]||(t[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,le)]),default:o(()=>[e("div",ne,[(a(!0),c(M,null,D(f.dailyWorkouts,m=>(a(),p(s(ee),{key:m.id},{header:o(()=>[e("div",ie,[e("h4",de,n(m.dayName),1),e("span",ce,n(m.exercises.length)+" exercícios ",1)])]),default:o(()=>[e("div",ue,[(a(!0),c(M,null,D(m.exercises,(_,S)=>(a(),c("div",{key:_.id,class:"flex items-center gap-3 py-2 border-t border-gray-100 dark:border-gray-700 first:border-t-0 first:pt-0"},[e("span",fe,n(S+1),1),e("div",me,[e("p",ve,n(_.name),1)]),e("div",pe,[e("span",null,n(_.sets)+"x",1),e("span",null,n(_.reps),1)])]))),128))])]),_:2},1024))),128))])]),_:2},1032,["title","badge"]))),128))])):(a(),c("div",{key:2,class:u([[s(i).dark.isActive?"bg-gray-800 border-gray-700":"bg-white border-gray-200"],"text-center py-12 rounded-xl border"])},[t[6]||(t[6]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 text-gray-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)),e("h3",{class:u([[s(i).dark.isActive?"text-white":"text-gray-900"],"text-lg font-semibold mb-2"])}," Nenhum treino cadastrado ",2),e("p",{class:u([[s(i).dark.isActive?"text-gray-400":"text-gray-600"],"mb-4"])}," Comece criando seu primeiro plano de treino ",2),k(s($),{variant:"primary",onClick:W},{default:o(()=>[...t[5]||(t[5]=[v(" Criar Treino ",-1)])]),_:1})],2)),b.value?(a(),c("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:E(P,["self"])},[e("div",{class:u([[s(i).dark.isActive?"bg-gray-800":"bg-white"],"rounded-xl p-6 max-w-md w-full"])},[e("h3",{class:u([[s(i).dark.isActive?"text-white":"text-gray-900"],"text-lg font-bold mb-2"])}," Confirmar Exclusão ",2),e("p",{class:u([[s(i).dark.isActive?"text-gray-300":"text-gray-600"],"mb-6"])},[t[7]||(t[7]=v(" Tem certeza que deseja deletar o treino ",-1)),e("strong",null,'"'+n(w.value.name)+'"',1),t[8]||(t[8]=v("? Esta ação não pode ser desfeita. ",-1))],2),e("div",ge,[k(s($),{variant:"outline",onClick:P,disabled:g.value},{default:o(()=>[...t[9]||(t[9]=[v(" Cancelar ",-1)])]),_:1},8,["disabled"]),k(s($),{variant:"danger",onClick:Q,disabled:g.value},{default:o(()=>[v(n(g.value?"Deletando...":"Deletar"),1)]),_:1},8,["disabled"])])],2)])):N("",!0)])]),_:1}))}});export{Ce as default};
