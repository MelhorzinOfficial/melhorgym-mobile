import{Q as _}from"./QSpinnerDots-C5zGx-Rq.js";import{d as V,u as q,o as C,l as N,m as d,n as c,p as s,q as r,t,f as l,v as T,x as M,y as B,z as y,A as p,r as v}from"./index-DIW8xnkj.js";import{_ as z}from"./melhorzin-treino-logo-CwPVUJmt.js";import{u as D}from"./focus-manager-D_9fm_CC.js";import{u as R}from"./useAuth-Br7L4NPZ.js";import{u as S}from"./useToast-x51x6Wsw.js";import{A as b}from"./AppInput-BCwncXwZ.js";import{A as L}from"./AppButton-C7m5tQLr.js";import"./AppInput.vue_vue_type_style_index_0_scoped_a07b1db5_lang-CBN9qRpN.js";const O={class:"flex-1 flex flex-col justify-center px-6 py-12 max-w-md mx-auto w-full"},Q={class:"text-center mb-10"},U={key:0,class:"text-center py-8"},j={key:1,class:"space-y-6"},G={class:"flex items-center justify-between text-sm"},I={class:"flex items-center cursor-pointer"},ee=V({__name:"LoginPage",setup(K){const o=D(),f=q(),{isAuthenticated:w,loading:n,login:h}=R(),x=S(),u=v(""),m=v(""),g=v(!1);function A(a){if(a.response?.data?.message)return a.response.data.message;if(a.response?.status)switch(a.response.status){case 400:return"Dados inválidos. Verifique as informações e tente novamente.";case 401:return"Email ou senha incorretos.";case 403:return"Acesso negado. Você não tem permissão para acessar.";case 404:return"Serviço não encontrado. Entre em contato com o suporte.";case 422:return"Dados inválidos. Verifique os campos e tente novamente.";case 429:return"Muitas tentativas. Aguarde alguns minutos e tente novamente.";case 500:return"Erro no servidor. Tente novamente em alguns instantes.";case 503:return"Serviço temporariamente indisponível. Tente novamente mais tarde."}return a.message==="Network Error"||a.code==="ERR_NETWORK"?"Erro de conexão. Verifique sua internet e tente novamente.":a.code==="ECONNABORTED"||a.message?.includes("timeout")?"A requisição demorou muito. Tente novamente.":"Erro inesperado. Tente novamente ou entre em contato com o suporte."}C(async()=>{w.value&&await f.push("/")});async function E(){try{await h({email:u.value,password:m.value}),x.success("Login realizado com sucesso!"),await f.push("/")}catch(a){console.error("Erro ao fazer login:",a),x.error(A(a))}}return(a,e)=>{const k=N("router-link");return d(),c("div",{class:r([[t(o).dark.isActive?"bg-gray-900":"bg-white"],"min-h-screen flex flex-col"])},[s("div",O,[s("div",Q,[e[3]||(e[3]=s("div",{class:"mx-auto mb-6"},[s("img",{src:z,alt:"MelhorGym",class:"h-40 w-40 mx-auto rounded-2xl"})],-1)),s("h1",{class:r([[t(o).dark.isActive?"text-white":"text-gray-900"],"text-4xl font-bold mb-3"])}," Bem-vindo! ",2),s("p",{class:r([[t(o).dark.isActive?"text-gray-400":"text-gray-600"],"text-lg"])}," Entre para gerenciar seus treinos ",2)]),t(n)?(d(),c("div",U,[l(_,{size:"48px",color:"primary"}),s("p",{class:r([[t(o).dark.isActive?"text-gray-400":"text-gray-600"],"mt-4"])}," Carregando... ",2)])):(d(),c("div",j,[s("form",{onSubmit:T(E,["prevent"]),class:"space-y-5"},[l(t(b),{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=i=>u.value=i),type:"email",label:"Email",placeholder:"seu@email.com",required:"",disabled:t(n)},null,8,["modelValue","disabled"]),l(t(b),{modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=i=>m.value=i),type:"password",label:"Senha",placeholder:"••••••••",required:"",disabled:t(n)},null,8,["modelValue","disabled"]),s("div",G,[s("label",I,[M(s("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>g.value=i),type:"checkbox",class:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"},null,512),[[B,g.value]]),s("span",{class:r([[t(o).dark.isActive?"text-gray-300":"text-gray-700"],"ml-2"])},"Lembrar-me",2)])]),l(t(L),{type:"submit",disabled:t(n)||!u.value||!m.value,loading:t(n),"full-width":""},{default:y(()=>[...e[4]||(e[4]=[p(" Entrar ",-1)])]),_:1},8,["disabled","loading"])],32),s("div",{class:r([[t(o).dark.isActive?"text-gray-400":"text-gray-600"],"text-center text-sm"])},[e[6]||(e[6]=p(" Não tem uma conta? ",-1)),l(k,{to:"/register",class:"text-primary hover:text-orange-600 font-semibold"},{default:y(()=>[...e[5]||(e[5]=[p(" Criar conta ",-1)])]),_:1})],2)]))])],2)}}});export{ee as default};
