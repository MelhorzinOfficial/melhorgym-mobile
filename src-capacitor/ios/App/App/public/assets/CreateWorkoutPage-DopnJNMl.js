import{d as U,m as u,n as b,E as T,G as B,p as r,Y as M,q as f,v as X,f as t,z as o,Q as H,F as z,$ as q,V as E,A as y,X as Z,t as i,r as R,_ as ee,u as ae,D as oe,w as le,o as se,c as P}from"./index-uMrKI2FR.js";import{j as te,m as D,n as W,k as N}from"./Footer.vue_vue_type_style_index_0_scoped_c4bb15e8_lang-Ba9xHn6I.js";import{A as re,_ as ne,u as ue}from"./useWorkout-RHAbPYxC.js";import{A as F}from"./AppButton-DyYNti-d.js";import{A as $}from"./AppInput-CMytOBdi.js";import{a as ie,A as me}from"./AppSelect-Bv_uEm9K.js";import{Q as ce}from"./AppInput.vue_vue_type_style_index_0_scoped_a07b1db5_lang-3rFo9l-2.js";import{u as de}from"./useToast-8Crnojsv.js";import"./focus-manager-BhP9zZFT.js";const pe={key:0,class:"mb-6"},ve={key:0,class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"},be={key:1,class:"text-gray-600 dark:text-gray-300"},ge={key:1,class:"mt-6 flex gap-3 justify-end"},fe=U({__name:"AppForm",props:{title:{},subtitle:{},layout:{default:"single"},gap:{default:"md"},loading:{type:Boolean,default:!1},containerClass:{}},emits:["submit"],setup(e,{emit:m}){const d=e,p=m,c={single:"grid-cols-1",double:"grid-cols-1 md:grid-cols-2",triple:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",auto:"grid-cols-1 md:grid-cols-[repeat(auto-fit,minmax(250px,1fr))]"},C={sm:"gap-3",md:"gap-4",lg:"gap-6"},A=l=>{d.loading||p("submit",l)};return(l,S)=>(u(),b("form",{class:f(["w-full",e.containerClass]),onSubmit:X(A,["prevent"])},[e.title||e.subtitle?(u(),b("div",pe,[e.title?(u(),b("h2",ve,T(e.title),1)):B("",!0),e.subtitle?(u(),b("p",be,T(e.subtitle),1)):B("",!0)])):B("",!0),r("div",{class:f(["grid",c[e.layout],C[e.gap],e.loading&&"opacity-50 pointer-events-none"])},[M(l.$slots,"default")],2),l.$slots.actions?(u(),b("div",ge,[M(l.$slots,"actions")])):B("",!0)],34))}}),O=U({__name:"AppFormField",props:{span:{default:1},containerClass:{}},setup(e){const m={1:"col-span-1",2:"col-span-1 md:col-span-2",3:"col-span-1 md:col-span-2 lg:col-span-3",full:"col-span-full"};return(d,p)=>(u(),b("div",{class:f([m[e.span],e.containerClass])},[M(d.$slots,"default")],2))}}),ye=U({__name:"AppAutocomplete",props:{modelValue:{},options:{},label:{},placeholder:{default:"Digite para buscar..."},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},error:{},helperText:{},size:{default:"md"},allowCustomValue:{type:Boolean,default:!1},containerClass:{}},emits:["update:modelValue","blur","focus","change"],setup(e,{emit:m}){const d=e,p=m,c=R(!1),C=()=>{d.disabled||(c.value=!0)},A=h=>{if(!h.trim())return d.options;const g=h.toLowerCase();return d.options.filter(x=>x.label.toLowerCase().includes(g))},l=h=>{p("update:modelValue",h.label),p("change",h.label),c.value=!1},S=h=>{p("update:modelValue",h),p("change",h),c.value=!1};return(h,g)=>(u(),b("div",{class:f(["w-full",e.containerClass])},[t(ce,{"model-value":e.modelValue,label:e.label,placeholder:e.placeholder,disable:e.disabled,error:!!e.error,"error-message":e.error,hint:e.helperText,"hide-bottom-space":!e.error&&!e.helperText,dense:e.size==="sm",outlined:"",readonly:"",class:f(["app-autocomplete",e.size==="lg"&&"app-autocomplete--lg"]),onClick:C},{append:o(()=>[t(H,{name:"search",class:"cursor-pointer"})]),_:1},8,["model-value","label","placeholder","disable","error","error-message","hint","hide-bottom-space","dense","class"]),t(i(ie),{modelValue:c.value,"onUpdate:modelValue":g[0]||(g[0]=x=>c.value=x),title:e.label||e.placeholder,"show-search":"","search-placeholder":e.placeholder},{default:o(({searchQuery:x,isDark:G})=>[t(te,{class:f({"bg-transparent":!0})},{default:o(()=>[A(x).length>0?(u(!0),b(z,{key:0},q(A(x),k=>(u(),E(D,{key:k.value,clickable:"",active:e.modelValue===k.label,class:f([e.modelValue===k.label?"text-primary "+(G?"bg-primary-900/20":"bg-primary-50"):G?"text-white":"text-gray-900",G?"hover:bg-gray-700/50":"hover:bg-gray-100"]),onClick:_=>l(k)},{default:o(()=>[t(W,{class:"overflow-hidden"},{default:o(()=>[t(N,{class:"truncate"},{default:o(()=>[y(T(k.label),1)]),_:2},1024)]),_:2},1024),k.group?(u(),E(W,{key:0,side:"",class:"flex-shrink-0"},{default:o(()=>[t(N,{caption:"",class:f(G?"text-gray-400":"text-gray-500")},{default:o(()=>[y(T(k.group),1)]),_:2},1032,["class"])]),_:2},1024)):B("",!0),e.modelValue===k.label?(u(),E(W,{key:1,side:"",class:"flex-shrink-0"},{default:o(()=>[t(H,{name:"check",color:"primary"})]),_:1})):B("",!0)]),_:2},1032,["active","class","onClick"]))),128)):x.trim()?(u(),E(D,{key:1,class:f(G?"text-white":"text-gray-900")},{default:o(()=>[t(W,{class:f(["text-center py-4",G?"text-gray-400":"text-gray-500"])},{default:o(()=>[e.allowCustomValue?(u(),b(z,{key:0},[t(N,null,{default:o(()=>[...g[1]||(g[1]=[y("Nenhum resultado encontrado",-1)])]),_:1}),t(Z,{flat:"",color:"primary",class:"mt-2",onClick:k=>S(x)},{default:o(()=>[y(' Usar "'+T(x)+'" ',1)]),_:2},1032,["onClick"])],64)):(u(),E(N,{key:1},{default:o(()=>[...g[2]||(g[2]=[y("Nenhum resultado encontrado",-1)])]),_:1}))]),_:2},1032,["class"])]),_:2},1032,["class"])):(u(),E(D,{key:2,class:f(G?"text-white":"text-gray-900")},{default:o(()=>[t(W,{class:f(["text-center py-4",G?"text-gray-400":"text-gray-500"])},{default:o(()=>[t(N,null,{default:o(()=>[...g[3]||(g[3]=[y("Digite para buscar",-1)])]),_:1})]),_:1},8,["class"])]),_:2},1032,["class"]))]),_:2},1024)]),_:1},8,["modelValue","title","search-placeholder"])],2))}}),he=ee(ye,[["__scopeId","data-v-c47a4f08"]]),j=[{value:"peito",label:"Peito"},{value:"costas",label:"Costas"},{value:"ombros",label:"Ombros"},{value:"biceps",label:"Bíceps"},{value:"triceps",label:"Tríceps"},{value:"pernas",label:"Pernas"},{value:"gluteos",label:"Glúteos"},{value:"abdomen",label:"Abdômen"},{value:"cardio",label:"Cardio"}],L=[{name:"Supino Reto",muscleGroup:"peito"},{name:"Supino Inclinado",muscleGroup:"peito"},{name:"Supino Declinado",muscleGroup:"peito"},{name:"Supino com Halteres",muscleGroup:"peito"},{name:"Supino Inclinado com Halteres",muscleGroup:"peito"},{name:"Crucifixo",muscleGroup:"peito"},{name:"Crucifixo Inclinado",muscleGroup:"peito"},{name:"Fly no Peck Deck",muscleGroup:"peito"},{name:"Crossover",muscleGroup:"peito"},{name:"Flexão de Braço",muscleGroup:"peito"},{name:"Barra Fixa",muscleGroup:"costas"},{name:"Puxada Frontal",muscleGroup:"costas"},{name:"Puxada com Triângulo",muscleGroup:"costas"},{name:"Remada Curvada",muscleGroup:"costas"},{name:"Remada Cavalinho",muscleGroup:"costas"},{name:"Remada Unilateral",muscleGroup:"costas"},{name:"Remada Sentado",muscleGroup:"costas"},{name:"Levantamento Terra",muscleGroup:"costas"},{name:"Pullover",muscleGroup:"costas"},{name:"Remada Baixa",muscleGroup:"costas"},{name:"Desenvolvimento com Barra",muscleGroup:"ombros"},{name:"Desenvolvimento com Halteres",muscleGroup:"ombros"},{name:"Elevação Lateral",muscleGroup:"ombros"},{name:"Elevação Frontal",muscleGroup:"ombros"},{name:"Elevação Posterior",muscleGroup:"ombros"},{name:"Remada Alta",muscleGroup:"ombros"},{name:"Encolhimento",muscleGroup:"ombros"},{name:"Desenvolvimento Arnold",muscleGroup:"ombros"},{name:"Rosca Direta",muscleGroup:"biceps"},{name:"Rosca Alternada",muscleGroup:"biceps"},{name:"Rosca Martelo",muscleGroup:"biceps"},{name:"Rosca Concentrada",muscleGroup:"biceps"},{name:"Rosca Scott",muscleGroup:"biceps"},{name:"Rosca Inversa",muscleGroup:"biceps"},{name:"Rosca 21",muscleGroup:"biceps"},{name:"Tríceps Testa",muscleGroup:"triceps"},{name:"Tríceps Francês",muscleGroup:"triceps"},{name:"Tríceps Corda",muscleGroup:"triceps"},{name:"Tríceps Barra",muscleGroup:"triceps"},{name:"Mergulho",muscleGroup:"triceps"},{name:"Tríceps Coice",muscleGroup:"triceps"},{name:"Agachamento",muscleGroup:"pernas"},{name:"Agachamento Sumô",muscleGroup:"pernas"},{name:"Leg Press",muscleGroup:"pernas"},{name:"Cadeira Extensora",muscleGroup:"pernas"},{name:"Cadeira Flexora",muscleGroup:"pernas"},{name:"Stiff",muscleGroup:"pernas"},{name:"Avanço",muscleGroup:"pernas"},{name:"Agachamento Búlgaro",muscleGroup:"pernas"},{name:"Panturrilha em Pé",muscleGroup:"pernas"},{name:"Panturrilha Sentado",muscleGroup:"pernas"},{name:"Hip Thrust",muscleGroup:"gluteos"},{name:"Elevação Pélvica",muscleGroup:"gluteos"},{name:"Abdução de Quadril",muscleGroup:"gluteos"},{name:"Coice na Polia",muscleGroup:"gluteos"},{name:"Stiff com Halteres",muscleGroup:"gluteos"},{name:"Abdominal Supra",muscleGroup:"abdomen"},{name:"Abdominal Infra",muscleGroup:"abdomen"},{name:"Abdominal Oblíquo",muscleGroup:"abdomen"},{name:"Prancha",muscleGroup:"abdomen"},{name:"Prancha Lateral",muscleGroup:"abdomen"},{name:"Abdominal Bicicleta",muscleGroup:"abdomen"},{name:"Elevação de Pernas",muscleGroup:"abdomen"},{name:"Esteira",muscleGroup:"cardio"},{name:"Bicicleta Ergométrica",muscleGroup:"cardio"},{name:"Elíptico",muscleGroup:"cardio"},{name:"Transport",muscleGroup:"cardio"},{name:"Remo",muscleGroup:"cardio"},{name:"Pular Corda",muscleGroup:"cardio"}],xe=e=>e==="all"?L:L.filter(m=>m.muscleGroup===e),Ge=(e,m)=>m?xe(m):L,Q=e=>{const m=e.toLowerCase().trim(),d=L.find(p=>p.name.toLowerCase()===m);return d?d.muscleGroup:"all"},ke={class:"max-w-5xl mx-auto"},Ce={class:"mb-8"},Ve={class:"text-3xl font-bold text-gray-900 dark:text-white mb-2"},Ae={class:"text-gray-600 dark:text-gray-300"},we={class:"space-y-4"},Ee={key:0,class:"text-center py-8 bg-gray-50 dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600"},Te={key:1,class:"space-y-4"},Be=["onClick"],Se={class:"space-y-4"},We={class:"pl-4 border-l-2 border-primary-200 dark:border-primary-700"},Ne={key:0,class:"text-sm text-gray-400 italic py-2"},Fe={class:"space-y-3"},Pe=["onClick"],$e={class:"space-y-3 pr-8"},Re={class:"space-y-3"},ze={class:"mt-4"},Le={class:"flex justify-center pt-2"},Qe=U({__name:"CreateWorkoutPage",setup(e){const m=ae(),d=oe(),p=de(),c=R(!1),C=P(()=>!!d.params.id),A=P(()=>ue(C.value?{workoutId:d.params.id}:void 0)),l=R({name:"",dailyWorkouts:[]}),S=R({name:""}),h=P(()=>l.value.name.trim()!==""&&l.value.dailyWorkouts.length>0&&l.value.dailyWorkouts.every(s=>s.dayName.trim()!==""&&s.exercises.length>0&&s.exercises.every(a=>a.name.trim()!==""&&a.sets>0&&a.reps.trim()!==""))),g=P(()=>[{label:"Todos os grupos",value:"all"},...j.map(s=>({label:s.label,value:s.value}))]),x=(s="all")=>Ge("",s).map(n=>({label:n.name,value:n.name,group:j.find(V=>V.value===n.muscleGroup)?.label??""})),G=()=>{l.value.dailyWorkouts.push({dayName:"",exercises:[]})},k=s=>{l.value.dailyWorkouts.splice(s,1)},_=s=>{const a=l.value.dailyWorkouts[s];a&&a.exercises.push({name:"",sets:0,reps:"",muscleGroupFilter:"all"})},Y=(s,a)=>{const n=l.value.dailyWorkouts[s];n&&n.exercises.splice(a,1)},J=async()=>{if(S.value.name="",!l.value.name.trim()){S.value.name="Nome do plano é obrigatório";return}if(l.value.dailyWorkouts.length===0){p.error("Adicione pelo menos um dia de treino");return}try{c.value=!0;const s={name:l.value.name,dailyWorkouts:l.value.dailyWorkouts.map(a=>({dayName:a.dayName,exercises:a.exercises.map(({name:n,sets:V,reps:v})=>({name:n,sets:V,reps:v}))}))};C.value?(await A.value.updateWorkout(d.params.id,s),p.success("Treino atualizado com sucesso!")):(await A.value.createWorkout(s),p.success("Treino criado com sucesso!")),m.push("/workouts")}catch(s){console.error("Erro ao salvar treino:",s),p.error("Erro ao salvar treino. Tente novamente.")}finally{c.value=!1}},K=()=>{m.push("/workouts")};return le(()=>l.value.dailyWorkouts,()=>{l.value.dailyWorkouts.forEach(s=>{s.exercises.forEach(a=>{if(a.name){const n=Q(a.name);n!=="all"&&(a.muscleGroupFilter=n)}})})},{deep:!0}),se(async()=>{if(C.value)try{c.value=!0;const s=await A.value.fetchWorkout();l.value={name:s.name,dailyWorkouts:s.dailyWorkouts.map(a=>({dayName:a.dayName,exercises:a.exercises.map(n=>({name:n.name,sets:n.sets,reps:n.reps,muscleGroupFilter:Q(n.name)}))}))}}catch(s){console.error("Erro ao carregar treino:",s),p.error("Erro ao carregar treino"),m.push("/workouts")}finally{c.value=!1}}),(s,a)=>(u(),E(i(ne),null,{default:o(()=>[r("div",ke,[r("div",Ce,[r("h1",Ve,T(C.value?"Editar Treino":"Criar Novo Treino"),1),r("p",Ae,T(C.value?"Atualize as informações do seu plano":"Crie um plano de treino completo com dias e exercícios"),1)]),t(i(fe),{title:"Informações do Plano",layout:"single",gap:"lg",loading:c.value,onSubmit:J},{actions:o(()=>[t(i(F),{type:"button",variant:"outline",onClick:K,disabled:c.value},{default:o(()=>[...a[10]||(a[10]=[y(" Cancelar ",-1)])]),_:1},8,["disabled"]),t(i(F),{type:"submit",variant:"primary",disabled:c.value||!h.value},{default:o(()=>[y(T(c.value?"Salvando...":C.value?"Atualizar Treino":"Criar Treino"),1)]),_:1},8,["disabled"])]),default:o(()=>[t(i(O),{span:"full"},{default:o(()=>[t(i($),{modelValue:l.value.name,"onUpdate:modelValue":a[0]||(a[0]=n=>l.value.name=n),label:"Nome do Plano",placeholder:"Ex: Treino ABC, Hipertrofia 4x",required:"",error:S.value.name},null,8,["modelValue","error"])]),_:1}),t(i(O),{span:"full"},{default:o(()=>[r("div",we,[a[9]||(a[9]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[y(" Dias de Treino "),r("span",{class:"text-red-500 ml-0.5"},"*")],-1)),l.value.dailyWorkouts.length===0?(u(),b("div",Ee,[a[2]||(a[2]=r("p",{class:"text-gray-500 dark:text-gray-400"},"Nenhum dia de treino adicionado",-1)),a[3]||(a[3]=r("p",{class:"text-sm text-gray-400 dark:text-gray-500 mt-1"}," Clique no botão abaixo para começar ",-1)),t(i(F),{type:"button",variant:"primary",class:"mt-4",onClick:G},{default:o(()=>[...a[1]||(a[1]=[y(" + Adicionar Dia de Treino ",-1)])]),_:1})])):(u(),b("div",Te,[(u(!0),b(z,null,q(l.value.dailyWorkouts,(n,V)=>(u(),E(i(re),{key:V,title:n.dayName||`Dia ${V+1}`,badge:`${n.exercises.length} exercícios`,"default-expanded":V===l.value.dailyWorkouts.length-1},{actions:o(()=>[r("button",{type:"button",onClick:X(v=>k(V),["stop"]),class:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Remover dia"},[...a[4]||(a[4]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Be)]),default:o(()=>[r("div",Se,[t(i($),{modelValue:n.dayName,"onUpdate:modelValue":v=>n.dayName=v,label:"Nome do Dia",placeholder:"Ex: A - Peito e Tríceps",required:""},null,8,["modelValue","onUpdate:modelValue"]),r("div",We,[a[7]||(a[7]=r("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 block mb-3"},"Exercícios",-1)),n.exercises.length===0?(u(),b("div",Ne," Nenhum exercício adicionado ")):B("",!0),r("div",Fe,[(u(!0),b(z,null,q(n.exercises,(v,I)=>(u(),b("div",{key:I,class:"relative bg-gray-50 dark:bg-gray-700 rounded-lg p-3 space-y-3"},[r("button",{type:"button",onClick:w=>Y(V,I),class:"absolute top-2 right-2 p-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/20 rounded transition-colors"},[...a[5]||(a[5]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Pe),r("div",$e,[r("div",null,[t(i(me),{modelValue:v.muscleGroupFilter,"onUpdate:modelValue":w=>v.muscleGroupFilter=w,placeholder:"Filtrar por grupo",options:g.value,size:"sm"},null,8,["modelValue","onUpdate:modelValue","options"])]),r("div",null,[t(i(he),{modelValue:v.name,"onUpdate:modelValue":w=>v.name=w,placeholder:"Digite ou selecione o exercício",options:x(v.muscleGroupFilter),size:"sm",required:"","allow-custom-value":""},null,8,["modelValue","onUpdate:modelValue","options"])]),r("div",Re,[t(i($),{modelValue:v.sets,"onUpdate:modelValue":w=>v.sets=w,modelModifiers:{number:!0},type:"number",label:"Séries",placeholder:"Ex: 3",size:"sm",required:""},null,8,["modelValue","onUpdate:modelValue"]),t(i($),{modelValue:v.reps,"onUpdate:modelValue":w=>v.reps=w,label:"Repetições",placeholder:"Ex: 8-12",size:"sm",required:""},null,8,["modelValue","onUpdate:modelValue"])])])]))),128))]),r("div",ze,[t(i(F),{type:"button",variant:"outline",size:"sm",class:"p-2",onClick:v=>_(V)},{default:o(()=>[...a[6]||(a[6]=[y(" + Exercício ",-1)])]),_:1},8,["onClick"])])])])]),_:2},1032,["title","badge","default-expanded"]))),128)),r("div",Le,[t(i(F),{type:"button",variant:"outline",onClick:G},{default:o(()=>[...a[8]||(a[8]=[y(" + Adicionar Dia de Treino ",-1)])]),_:1})])]))])]),_:1})]),_:1},8,["loading"])])]),_:1}))}});export{Qe as default};
