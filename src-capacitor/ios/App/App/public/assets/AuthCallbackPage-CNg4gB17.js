import{u as p}from"./useAuth-DluwJSbR.js";import{d as g,u as b,D as f,o as x,m as s,n as a,p as e,E as h,G as v,r}from"./index-uMrKI2FR.js";const k={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600"},y={class:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4"},w={class:"text-center"},_={key:0,class:"py-8"},C={key:1,class:"py-8"},E={class:"text-gray-600 mb-6"},T=g({__name:"AuthCallbackPage",setup(A){const n=b(),c=f(),{handleGoogleCallback:d}=p(),l=r(!0),i=r(!1),u=r("Ocorreu um erro ao processar sua autenticação. Tente novamente.");x(async()=>{try{const o=c.query.accessToken;if(!o)throw new Error("Token não fornecido");await d(o),await n.push("/")}catch(o){console.error("Erro no callback do Google:",o),i.value=!0,o instanceof Error&&(u.value=o.message)}finally{l.value=!1}});async function m(){await n.push("/login")}return(o,t)=>(s(),a("div",k,[e("div",y,[e("div",w,[l.value?(s(),a("div",_,[...t[0]||(t[0]=[e("div",{class:"inline-block animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600"},null,-1),e("h2",{class:"mt-4 text-xl font-semibold text-gray-900"},"Autenticando...",-1),e("p",{class:"mt-2 text-gray-600"},"Aguarde enquanto validamos seu acesso",-1)])])):i.value?(s(),a("div",C,[t[1]||(t[1]=e("div",{class:"text-red-500 mb-4"},[e("svg",{class:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t[2]||(t[2]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-2"},"Erro na autenticação",-1)),e("p",E,h(u.value),1),e("button",{onClick:m,class:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"}," Voltar ao login ")])):v("",!0)])])]))}});export{T as default};
